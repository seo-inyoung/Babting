{"ast":null,"code":"var _jsxFileName = \"/home/inyoung_seo@tmax.co.kr/web-p/client/src/component/SearchPage/SearchForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport ListView from \"./View/ListView\"; //그리드 뷰, 리스트 뷰, 맵 뷰 컴포넌트\n\nimport GridView from \"./View/GridView\";\nimport MapView from \"./View/MapView\";\nimport GridIcon from \"../img/grid.png\"; //그리드,리스트,맵 아이콘 경로\n\nimport ListIcon from \"../img/list.png\";\nimport MapIcon from \"../img/maps.png\";\nimport styled from \"styled-components\"; //css 쓸 수 있게\n\nimport Contents from \"../../static_data/contents\"; //맛집 data 정리 해놓은 파일\n\nimport axios from \"axios\"; //axios\n//ViewBtn input 테두리 좀 더 다듬기 & 클릭하면 색깔 변하게\n//FilterBtn\n//filter\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst situation = [\"혼밥\", \"모임\", \"특별한 날\", \"회식\"];\nconst preference = [\"비건\", \"육류\", \"해산물\", \"국물\", \"매운 것\", \"반주\", \"디저트\"]; //style\n\nconst FilterBox = styled.div`\n  .filterBox {\n    width: 50%;\n    position: fixed;\n    background: white;\n    border-radius:15px;\n    top: 25%;\n    left: 25%;\n    z-index: 1;\n  }\n  .filterTitle {\n    padding:15px 0;\n    border-bottom: 2px solid red;\n  }\n  .offbtn {\n    background: white;\n  }\n  .onbtn {\n    background: gray;\n  }\n  @media screen and (max-width: 958px) {\n    .filterBox {\n      top: 25%;\n      left: 5%;\n      width: 90%;\n      padding: 0 10%;\n    }\n  }\n`;\n_c = FilterBox;\nconst FilterBtn = styled.div`\n  input {\n    border: 1px solid #eeeeee;\n    border-radius: 30px;\n    outline: none;\n  }\n  button {\n    width: 70px;\n  }\n  @media screen and (max-width: 958px) {\n    input {\n      width: 400px;\n    }\n  }\n`;\n_c2 = FilterBtn;\nconst ViewBtn = styled.div`\n  input {\n    width: 25px;\n    padding: 2px;\n    margin: 1px 0;\n    border: 1px black solid;\n    border-radius: 5px;\n  }\n`;\n_c3 = ViewBtn;\nconst imgStyle = {\n  width: \"25px\"\n};\nlet FilterList = {\n  \"btn-혼밥\": 0,\n  \"btn-모임\": 0,\n  \"btn-특별한 날\": 0,\n  \"btn-회식\": 0,\n  \"btn-비건\": 0,\n  \"btn-육류\": 0,\n  \"btn-해산물\": 0,\n  \"btn-국물\": 0,\n  \"btn-매운 것\": 0,\n  \"btn-반주\": 0,\n  \"btn-디저트\": 0\n};\n\nfunction FilterBtns(_ref) {\n  let {\n    filter\n  } = _ref;\n\n  const Btntoggle = () => {\n    const btn = document.getElementById(`btn-${filter}`);\n\n    if (FilterList[btn.id] === 0) {\n      FilterList = { ...FilterList,\n        [btn.id]: 1\n      };\n      console.log(FilterList);\n      btn.className = \"onbtn\"; //btn.style.background = \"gray\";\n    } else {\n      FilterList = { ...FilterList,\n        [btn.id]: 0\n      };\n      console.log(FilterList);\n      btn.className = \"offbtn\"; //btn.style.background = \"white\";\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: Btntoggle,\n    id: `btn-${filter}`,\n    className: FilterList[`btn-${filter}`] === 1 ? \"onbtn\" : \"offbtn\",\n    children: filter\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = FilterBtns;\n\nfunction FilterBoxTool() {\n  return /*#__PURE__*/_jsxDEV(FilterBox, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filterBox\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"filterTitle\",\n        children: \"\\uD544\\uD130 \\uC124\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uCDE8\\uD5A5 \\uD544\\uD130\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), preference.map(filter => /*#__PURE__*/_jsxDEV(FilterBtns, {\n        filter: filter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC0C1\\uD669 \\uD544\\uD130\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), situation.map(filter => /*#__PURE__*/_jsxDEV(FilterBtns, {\n        filter: filter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"closeBtn\",\n        onClick: closefilter,\n        children: \"Check\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n\n_c5 = FilterBoxTool;\nlet isTagData = []; //태그 창 열고 닫는 거\n\nconst closefilter = props => {\n  const {\n    restaurants\n  } = props;\n  checkFilter = [];\n  const filterbox = document.getElementById(\"filterTotalBox\");\n  filterbox.style.display = \"none\";\n\n  for (const key in FilterList) {\n    if (FilterList[key] === 1) {\n      checkFilter.push(key.slice(4));\n    }\n  }\n\n  const filterlook = document.getElementById(\"filterLook\");\n  filterlook.innerText = checkFilter; // if(checkFilter.length!==0){\n  //   restaurants.map((content) => {\n  //     for(var i in checkFilter){\n  //       if(content.태그!=undefined){\n  //         if(content.태그.includes(checkFilter[i])){\n  //           if(!isTagData.includes(content)){\n  //             isTagData.push(content);\n  //           }              \n  //         }\n  //       }\n  //     }\n  //   })\n  // }\n};\n\nconst openfilter = () => {\n  const filterbox = document.getElementById(\"filterTotalBox\");\n  filterbox.style.display = \"block\";\n}; //실행\n\n\nlet checkFilter = [];\n\nfunction SearchForm(props) {\n  _s();\n\n  useEffect(() => {\n    const box = document.getElementById('filterTotalBox');\n    const checkFilterText = document.getElementById('filterLook');\n    let filterText = '';\n\n    if (checkFilter.length !== 0) {\n      box.style.display = \"none\";\n      checkFilter.map(f => {\n        filterText += f + ',';\n      });\n    }\n\n    checkFilterText.innerText = filterText; //searchData();\n  }, []);\n  const {\n    restaurants\n  } = props;\n  const dataInput = useRef();\n  const [data, setData] = useState({\n    View: \"map\",\n    result: []\n  });\n  let resultData = [];\n\n  const searchData = () => {\n    const dataInfo = dataInput.current;\n    resultData = [];\n    isTagData = [];\n\n    if (checkFilter.length !== 0) {\n      restaurants.map(content => {\n        for (var i in checkFilter) {\n          if (content.태그 != undefined) {\n            if (content.태그.includes(checkFilter[i])) {\n              if (!isTagData.includes(content)) {\n                isTagData.push(content);\n              }\n            }\n          }\n        }\n      });\n    } else {\n      restaurants.map(content => {\n        isTagData.push(content);\n      });\n    }\n\n    isTagData.map(content => {\n      if (content.이름.includes(dataInfo.value) || content.주소.includes(dataInfo.value) || content.대표음식.includes(dataInfo.value) || content.간단한설명.includes(dataInfo.value) //dataInfo.value == content.name ||\n      //dataInfo.value == content.adress ||\n      //dataInfo.value == content.mainmenu\n      ) {\n        resultData.push(content);\n      } else if (dataInfo.value === \"\" && checkFilter.length == 0) {\n        resultData.push(content);\n      }\n    });\n    setData({ ...data,\n      result: resultData\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FilterBtn, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: dataInput,\n          className: \"col-md-4 col-xs-5\",\n          placeholder: \"\\uC74C\\uC2DD\\uC810 \\uC774\\uB984/\\uBA39\\uACE0 \\uC2F6\\uC740 \\uBA54\\uB274\\uB97C \\uC785\\uB825\\uD574 \\uBCF4\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"col-md-1 col-xs-2\",\n          onClick: searchData,\n          children: [\"\\uAC80\\uC0C9\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"col-md-1 col-xs-2\",\n          onClick: openfilter,\n          children: [\"\\uD544\\uD130\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ViewBtnContainer\",\n      children: /*#__PURE__*/_jsxDEV(ViewBtn, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"image\",\n          src: MapIcon,\n          className: \"col-md-1 col-xs-1\",\n          onClick: () => setData({ ...data,\n            View: \"map\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"image\",\n          src: ListIcon,\n          className: \"col-md-1 col-xs-1\",\n          onClick: () => setData({ ...data,\n            View: \"list\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"image\",\n          src: GridIcon,\n          className: \"col-md-1 col-xs-1\",\n          onClick: () => setData({ ...data,\n            View: \"grid\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\uACE0\\uB978 \\uD0DC\\uADF8: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"filterLook\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), data.View === \"grid\" ? /*#__PURE__*/_jsxDEV(GridView, {\n      contents: dataInput.current.value == \"\" ? restaurants : data.result,\n      Data: data.ResultWord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }, this) : data.View === \"list\" ? /*#__PURE__*/_jsxDEV(ListView, {\n      contents: dataInput.current.value == \"\" ? restaurants : data.result,\n      Data: data.ResultWord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(MapView, {\n      contents: data.result,\n      Data: data.ResultWord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"filterTotalBox\",\n      children: /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(FilterBoxTool, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchForm, \"QQftOLiJ9IjVuht1ci+IlNWPFL4=\");\n\n_c6 = SearchForm;\nexport default SearchForm;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"FilterBox\");\n$RefreshReg$(_c2, \"FilterBtn\");\n$RefreshReg$(_c3, \"ViewBtn\");\n$RefreshReg$(_c4, \"FilterBtns\");\n$RefreshReg$(_c5, \"FilterBoxTool\");\n$RefreshReg$(_c6, \"SearchForm\");","map":{"version":3,"sources":["/home/inyoung_seo@tmax.co.kr/web-p/client/src/component/SearchPage/SearchForm.js"],"names":["React","useState","useRef","useEffect","ListView","GridView","MapView","GridIcon","ListIcon","MapIcon","styled","Contents","axios","situation","preference","FilterBox","div","FilterBtn","ViewBtn","imgStyle","width","FilterList","FilterBtns","filter","Btntoggle","btn","document","getElementById","id","console","log","className","FilterBoxTool","map","closefilter","isTagData","props","restaurants","checkFilter","filterbox","style","display","key","push","slice","filterlook","innerText","openfilter","SearchForm","box","checkFilterText","filterText","length","f","dataInput","data","setData","View","result","resultData","searchData","dataInfo","current","content","i","태그","undefined","includes","이름","value","주소","대표음식","간단한설명","ResultWord"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport ListView from \"./View/ListView\"; //그리드 뷰, 리스트 뷰, 맵 뷰 컴포넌트\nimport GridView from \"./View/GridView\";\nimport MapView from \"./View/MapView\";\nimport GridIcon from \"../img/grid.png\"; //그리드,리스트,맵 아이콘 경로\nimport ListIcon from \"../img/list.png\";\nimport MapIcon from \"../img/maps.png\";\nimport styled from \"styled-components\"; //css 쓸 수 있게\nimport Contents from \"../../static_data/contents\"; //맛집 data 정리 해놓은 파일\nimport axios from \"axios\"; //axios\n\n//ViewBtn input 테두리 좀 더 다듬기 & 클릭하면 색깔 변하게\n//FilterBtn\n\n//filter\nconst situation = [\"혼밥\", \"모임\", \"특별한 날\", \"회식\"];\nconst preference = [\n  \"비건\",\n  \"육류\",\n  \"해산물\",\n  \"국물\",\n  \"매운 것\",\n  \"반주\",\n  \"디저트\",\n];\n\n//style\nconst FilterBox = styled.div`\n  .filterBox {\n    width: 50%;\n    position: fixed;\n    background: white;\n    border-radius:15px;\n    top: 25%;\n    left: 25%;\n    z-index: 1;\n  }\n  .filterTitle {\n    padding:15px 0;\n    border-bottom: 2px solid red;\n  }\n  .offbtn {\n    background: white;\n  }\n  .onbtn {\n    background: gray;\n  }\n  @media screen and (max-width: 958px) {\n    .filterBox {\n      top: 25%;\n      left: 5%;\n      width: 90%;\n      padding: 0 10%;\n    }\n  }\n`;\n\nconst FilterBtn = styled.div`\n  input {\n    border: 1px solid #eeeeee;\n    border-radius: 30px;\n    outline: none;\n  }\n  button {\n    width: 70px;\n  }\n  @media screen and (max-width: 958px) {\n    input {\n      width: 400px;\n    }\n  }\n`;\nconst ViewBtn = styled.div`\n  input {\n    width: 25px;\n    padding: 2px;\n    margin: 1px 0;\n    border: 1px black solid;\n    border-radius: 5px;\n  }\n`;\n\nconst imgStyle = {\n  width: \"25px\",\n};\nlet FilterList = {\n  \"btn-혼밥\": 0,\n  \"btn-모임\": 0,\n  \"btn-특별한 날\": 0,\n  \"btn-회식\": 0,\n  \"btn-비건\": 0,\n  \"btn-육류\": 0,\n  \"btn-해산물\": 0,\n  \"btn-국물\": 0,\n  \"btn-매운 것\": 0,\n  \"btn-반주\": 0,\n  \"btn-디저트\": 0,\n};\nfunction FilterBtns({ filter }) {\n  const Btntoggle = () => {\n    const btn = document.getElementById(`btn-${filter}`);\n    if (FilterList[btn.id] === 0) {\n      FilterList = { ...FilterList, [btn.id]: 1 };\n      console.log(FilterList);\n      btn.className = \"onbtn\";\n      //btn.style.background = \"gray\";\n    } else {\n      FilterList = { ...FilterList, [btn.id]: 0 };\n      console.log(FilterList);\n      btn.className = \"offbtn\";\n      //btn.style.background = \"white\";\n    }\n  };\n  return (\n    <button\n      onClick={Btntoggle}\n      id={`btn-${filter}`}\n      className={FilterList[`btn-${filter}`] === 1 ? \"onbtn\" : \"offbtn\"}\n    >\n      {filter}\n    </button>\n  );\n}\nfunction FilterBoxTool() {\n  \n  return (\n    <FilterBox>\n      <div className=\"filterBox\">\n        \n        <p className=\"filterTitle\">필터 설정</p>\n        <p>취향 필터</p>\n        {preference.map((filter) => (\n          <FilterBtns filter={filter} />\n        ))}\n        <br />\n        <br />\n        <p>상황 필터</p>\n        {situation.map((filter) => (\n          <FilterBtns filter={filter} />\n        ))}\n        <br />\n        <br />{\" \"}\n        <button id={\"closeBtn\"} onClick={closefilter}>\n          Check\n        </button>\n        <br />\n        <br />\n      </div>\n    </FilterBox>\n  );\n}\nlet isTagData = [];\n//태그 창 열고 닫는 거\nconst closefilter = (props) => {\n  const {restaurants} = props;\n  checkFilter = [];\n  const filterbox = document.getElementById(\"filterTotalBox\");\n  filterbox.style.display = \"none\";\n  for (const key in FilterList) {\n    if (FilterList[key] === 1) {\n      checkFilter.push(key.slice(4));\n    }\n  }\n  const filterlook = document.getElementById(\"filterLook\");\n  filterlook.innerText = checkFilter;\n  // if(checkFilter.length!==0){\n  //   restaurants.map((content) => {\n  //     for(var i in checkFilter){\n  //       if(content.태그!=undefined){\n  //         if(content.태그.includes(checkFilter[i])){\n  //           if(!isTagData.includes(content)){\n  //             isTagData.push(content);\n  //           }              \n  //         }\n  //       }\n  //     }\n  //   })\n  // }\n  };\nconst openfilter = () => {\n  const filterbox = document.getElementById(\"filterTotalBox\");\n  filterbox.style.display = \"block\";\n};\n\n//실행\nlet checkFilter = [];\n\nfunction SearchForm(props) {\n  useEffect(()=> {\n    const box = document.getElementById('filterTotalBox');\n    const checkFilterText = document.getElementById('filterLook');\n    let filterText ='';\n    if(checkFilter.length !== 0){\n      box.style.display = \"none\";\n      checkFilter.map((f) => {\n        filterText += f + ',';\n      })\n    }\n    checkFilterText.innerText = filterText;\n    //searchData();\n  },[]);\n  const {restaurants} = props;  \n  const dataInput = useRef();\n  const [data, setData] = useState({\n    View: \"map\",\n    result: [],\n  });\n  let resultData = [];\n  const searchData = () => {\n    const dataInfo = dataInput.current;\n    resultData = [];\n    isTagData = [];\n    if(checkFilter.length!==0){\n      restaurants.map((content) => {\n        for(var i in checkFilter){\n          if(content.태그!=undefined){\n            if(content.태그.includes(checkFilter[i])){\n              if(!isTagData.includes(content)){\n                isTagData.push(content);\n              }              \n            }\n          }\n        }\n      })\n    }else{\n      restaurants.map((content) => {\n        isTagData.push(content);\n      })\n    }\n    isTagData.map((content) => {\n      if (content.이름.includes(dataInfo.value)||\n          content.주소.includes(dataInfo.value)||\n          content.대표음식.includes(dataInfo.value)||\n          content.간단한설명.includes(dataInfo.value)\n      //dataInfo.value == content.name ||\n      //dataInfo.value == content.adress ||\n      //dataInfo.value == content.mainmenu\n      ) {\n        resultData.push(content);\n      } else if (dataInfo.value === \"\"&&checkFilter.length==0) {\n        resultData.push(content);\n      }\n    });\n    setData({ ...data, result: resultData });\n  };\n  return (\n    <>\n      <FilterBtn>\n        <div className={\"row justify-content-center\"}>\n          <input\n            ref={dataInput}\n            className={\"col-md-4 col-xs-5\"}\n            placeholder=\"음식점 이름/먹고 싶은 메뉴를 입력해 보세요\"\n          />\n          <button className={\"col-md-1 col-xs-2\"} onClick={searchData}>\n            검색{\" \"}\n          </button>\n          <button className={\"col-md-1 col-xs-2\"} onClick={openfilter}>\n            필터{\" \"}\n          </button>\n        </div>{\" \"}\n      </FilterBtn>\n      <div className={\"ViewBtnContainer\"}>\n        <ViewBtn>\n          <input\n            type={\"image\"}\n            src={MapIcon}\n            className={\"col-md-1 col-xs-1\"}\n            onClick={() => setData({ ...data, View: \"map\" })}\n          />\n          <input\n            type={\"image\"}\n            src={ListIcon}\n            className={\"col-md-1 col-xs-1\"}\n            onClick={() => setData({ ...data, View: \"list\" })}\n          />\n          <input\n            type={\"image\"}\n            src={GridIcon}\n            className={\"col-md-1 col-xs-1\"}\n            onClick={() => setData({ ...data, View: \"grid\" })}\n          />\n        </ViewBtn>\n      </div>\n      <div>\n        <span>고른 태그: </span>\n        <span id=\"filterLook\"></span>\n      </div>\n      {data.View === \"grid\" ? (\n        <GridView contents={dataInput.current.value==\"\"?restaurants:data.result} Data={data.ResultWord} />\n      ) : data.View === \"list\" ? (\n        <ListView contents={dataInput.current.value==\"\"?restaurants:data.result} Data={data.ResultWord} />\n      ) : (\n        <MapView contents={data.result} Data={data.ResultWord} />\n      )}\n\n      <div id=\"filterTotalBox\">\n        <center>\n          <FilterBoxTool />\n        </center>\n      </div>\n    </>\n  );\n}\nexport default SearchForm;\n"]},"metadata":{},"sourceType":"module"}